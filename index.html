<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/break_infinity.js@2/dist/break_infinity.js"></script>
<script src="matterdims.js"></script>
<script>
var game_speed = 250
var matter = new Decimal("1");
var buymult = new Decimal("2")
var m1mult = new Decimal("0.5");
var m1cost = new Decimal("1");
var m1scaling = new Decimal("1000");
var m2count = new Decimal("0");
var m2mult = new Decimal("0.5");
var m2cost = new Decimal("10");
var m2scaling = new Decimal("10000");
var m3count = new Decimal("0");
var m3mult = new Decimal("0.5");
var m3cost = new Decimal("100");
var m3scaling = new Decimal("100000");
var m4count = new Decimal('0');
var m4mult = new Decimal("0.5");
var m4cost = new Decimal('1000000');
var m4scaling = new Decimal('1000000');


var tickspeedmult = new Decimal(1.2);
var tickspeedupgrades = 0;
var tickspeedscaling = new Decimal(10);
var tickspeedcost = new Decimal(100);
var zerbo = new Decimal("0")


var m1 = new MatterDim(m1mult, m1cost, m1scaling, zerbo);
var m2 = new MatterDim(m2mult, m2cost, m2scaling, zerbo);
var m3 = new MatterDim(m3mult, m3cost, m3scaling, zerbo);
var m4 = new MatterDim(m4mult, m4cost, m4scaling, zerbo);



function Update() {
    if (matter > 100000){
    document.getElementById('numbdisp').innerHTML = matter.toExponential(2).toString().replace('+', '');}
    else{
        document.getElementById('numbdisp').innerHTML = matter.toFixed(0);
    }

    ts = CalcTickspeed()

    document.getElementById('tickstart').innerHTML = 'Tickspeed: '+((ts < 100000) ? ts.toFixed(1) : ts.toExponential(2).toString().replace('+', '')) + ' ticks per second';
    document.getElementById('tickcostsect').innerHTML =  'Cost: '+((tickspeedcost < 100000) ? tickspeedcost.toFixed(0) : tickspeedcost.toExponential(2).toString().replace('+', '')) + ' Matter'
    document.getElementById('m1start').innerHTML = 'x'+((m1.mult < 100000) ? m1.mult.toFixed(1) : m1.mult.toString().replace('+', '')) + ' &nbsp&nbsp&nbsp&nbsp1st Matter Dimension: '+ ((m1.count.toString() != '0') ? ((m1.count < 100000) ? m1.count.toFixed(0) : m1.count.toExponential(2).toString().replace('+', '')) : '0');
    document.getElementById('m1costsect').innerHTML =  'Cost: '+((m1.cost < 100000) ? m1.cost.toFixed(0) : m1.cost.toExponential(2).toString().replace('+', '')) + ' Matter'
    document.getElementById('m2start').innerHTML = 'x'+((m2.mult < 100000) ? m2.mult.toFixed(1) : m2.mult.toExponential(2).toString().replace('+', '')) + ' &nbsp&nbsp&nbsp&nbsp2nd Matter Dimension: '+ ((m2.count.toString() != '0') ? ((m2.count < 100000) ? m2.count.toFixed(0) : m2.count.toExponential(2).toString().replace('+', '')) : '0');
    document.getElementById('m2costsect').innerHTML =  'Cost: '+((m2.cost < 100000) ? m2.cost.toFixed(0) : m2.cost.toExponential(2).toString().replace('+', '')) + ' Matter'
    document.getElementById('m3start').innerHTML = 'x'+((m3.mult < 100000) ? m3.mult.toFixed(1) : m3.mult.toExponential(2).toString().replace('+', '')) + ' &nbsp&nbsp&nbsp&nbsp3rd Matter Dimension: '+ ((m3.count.toString() != '0') ? ((m3.count < 100000) ? m3.count.toFixed(0) : m3.count.toExponential(2).toString().replace('+', '')) : '0');
    document.getElementById('m3costsect').innerHTML =  'Cost: '+((m3.cost < 100000) ? m3.cost.toFixed(0) : m3.cost.toExponential(2).toString().replace('+', '')) + ' Matter'
    document.getElementById('m4start').innerHTML = 'x'+((m4.mult < 100000) ? m4.mult.toFixed(1) : m4.mult.toExponential(2).toString().replace('+', '')) + ' &nbsp&nbsp&nbsp&nbsp4th Matter Dimension: '+ ((m4.count.toString() != '0') ? ((m4.count < 100000) ? m4.count.toFixed(0) : m4.count.toExponential(2).toString().replace('+', '')) : '0');
    document.getElementById('m4costsect').innerHTML =  'Cost: '+((m4.cost < 100000) ? m4.cost.toFixed(0) : m4.cost.toExponential(2).toString().replace('+', '')) + ' Matter'
    
}
function Trypurchase(dim) {
    if (matter >= dim.cost){
        matter = matter.minus(dim.cost);
        dim.count = Decimal.add(dim.count, new Decimal(1));
        dim.mult = dim.mult.times(buymult);
        dim.cost = dim.cost.times(dim.scaling);
    }}
function UpgradeTickspeed(max = false){
    if(matter >= tickspeedcost){
        alert(tickspeedcost)
        tickspeedupgrades += 1;
        matter = matter.minus(tickspeedcost);
        tickspeedcost = tickspeedcost.times(tickspeedscaling);
    }
    
    
        
}

function CalcTickspeed(){
    if (tickspeedupgrades > 0){
    return tickspeedmult.pow(tickspeedupgrades);}
    else{
        
        return new Decimal(1)
    }
}

window.onload = function() {     
       
     function tick() {
         Update();
         ts = CalcTickspeed()
         if(m1.count.toString()!='0'){matter = Decimal.add(matter, (ts.times(m1.count.times(m1.mult)).div(1000/game_speed)));}
         if(m2.count.toString()!='0'){m1.count = Decimal.add(m1.count, (ts.times(m2.count.times(m2.mult)).div(1000/game_speed)));}
         if(m3.count.toString()!='0'){m2.count = Decimal.add(m2.count, (ts.times(m3.count.times(m3.mult)).div(1000/game_speed)));}
         if(m4.count.toString()!='0'){m3.count = Decimal.add(m3.count, (ts.times(m4.count.times(m4.mult)).div(1000/game_speed)));}
         
     }
     setInterval(tick, game_speed);
 }
</script>

<link rel="stylesheet" href="style.css">
</head>
<body>
    <title>Matter Dimensions</title>
    <h2 id="numbdisp" >0</h2>
    <br><br>
    <button class="matdimbutton"id="tickspeed" type="button" onclick="UpgradeTickspeed()"><span id="tickstart" style="float:left;">test412</span><span id="tickcostsect" style="float:right;">test</span></button> <br><br>
    <button class="matdimbutton"id="m1" type="button" onclick="Trypurchase(m1)"><span id="m1start" style="float:left;">test412</span><span id="m1costsect" style="float:right;">test</span></button> <br>
    <button class="matdimbutton"id="m2"type="button" onclick="Trypurchase(m2)"><span id="m2start" style="float:left;">test412</span><span id="m2costsect" style="float:right;">test</span></button> <br>
    <button class="matdimbutton"id="m3"type="button" onclick="Trypurchase(m3)"><span id="m3start" style="float:left;">test412</span><span id="m3costsect" style="float:right;">test</span></button> <br>
    <button class="matdimbutton"id="m4"type="button" onclick="Trypurchase(m4)" ><span id="m4start" style="float:left;">test412</span><span id="m4costsect" style="float:right;">test</span></button><br>

</body>
</html> 
